{"ast":null,"code":"var _jsxFileName = \"/Users/leozen/Desktop/Code/Projects/YelpClone/ravenous/src/components/SearchBar/SearchBar.js\";\nimport React from 'react';\nimport './SearchBar.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass SearchBar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.renderSortByOptions = () => {\n      return Object.keys(this.sortByOptions).map(sortByOption => {\n        let sortByOptionValue = this.sortByOptions[sortByOption];\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          onClick: this.handleSortByChange.bind(this, sortByOptionValue),\n          className: this.getSortByClass(sortByOptionValue),\n          children: sortByOption\n        }, sortByOptionValue, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 20\n        }, this);\n      });\n    };\n    this.state = {\n      term: '',\n      location: '',\n      sortBy: 'best_match'\n    };\n    this.handleSortByChange = this.handleSortByChange.bind(this);\n    this.handleTermChange = this.handleTermChange.bind(this);\n    this.handleLocationChange = this.handleLocationChange.bind(this);\n    this.handleSearch = this.handleSearch.bind(this);\n    this.handleEnterKey = this.handleEnterKey.bind(this);\n    this.toStringInputPosition = this.toStringInputPosition.bind(this);\n    this.sortByOptions = {\n      'Best Match': 'best_match',\n      'Highest Rated': 'rating',\n      'Most Reviewed': 'review_count'\n    };\n  }\n  getSortByClass(sortByOption) {\n    if (this.state.sortBy === sortByOption) {\n      return 'active';\n    }\n    return '';\n  }\n  handleSortByChange(sortByOption) {\n    this.setState({\n      sortBy: sortByOption\n    },\n    //use callback function to handleSortByChange event when clicking on the sortByOptions rendered object\n    () => {\n      this.props.searchYelp(this.state.term, this.state.location, this.state.sortBy);\n    });\n  }\n  handleTermChange(event) {\n    this.setState({\n      term: event.target.value\n    });\n  }\n  handleLocationChange(event) {\n    this.setState({\n      location: event.target.value\n    });\n  }\n  toStringInputPosition(latitude, longitude) {\n    return latitude.toString(), longitude.toString();\n  }\n  handleSearch(event) {\n    if (this.state.location === '') {\n      console.log('I think therefore i am');\n      let place = navigator.geolocation.getCurrentPosition(position => {\n        this.toStringInputPosition(position.coords.latitude, position.coords.longitude);\n      });\n      console.log('argh');\n      return this.setState({\n        location: place\n      });\n    } else {\n      this.props.searchYelp(this.state.term, this.state.location, this.state.sortBy);\n      event.preventDefault();\n    }\n  }\n  handleEnterKey(event) {\n    // Enter\n    if (event.keyCode === 13) {\n      this.props.searchYelp(this.state.term, this.state.location, this.state.sortBy);\n      event.preventDefault();\n    }\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"SearchBar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"SearchBar-sort-options\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: this.renderSortByOptions()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"SearchBar-fields\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"Businessses\",\n          onChange: this.handleTermChange,\n          onKeyDown: this.handleEnterKey,\n          placeholder: \"Search Businesses\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"Location\",\n          onChange: this.handleLocationChange,\n          onKeyDown: this.handleEnterKey,\n          placeholder: \"Where?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"SearchBar-submit\",\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          onClick: this.handleSearch,\n          children: \"Let's Go\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }, this);\n  }\n}\nexport default SearchBar;","map":{"version":3,"names":["React","SearchBar","Component","constructor","props","renderSortByOptions","Object","keys","sortByOptions","map","sortByOption","sortByOptionValue","handleSortByChange","bind","getSortByClass","state","term","location","sortBy","handleTermChange","handleLocationChange","handleSearch","handleEnterKey","toStringInputPosition","setState","searchYelp","event","target","value","latitude","longitude","toString","console","log","place","navigator","geolocation","getCurrentPosition","position","coords","preventDefault","keyCode","render"],"sources":["/Users/leozen/Desktop/Code/Projects/YelpClone/ravenous/src/components/SearchBar/SearchBar.js"],"sourcesContent":["import React from 'react';\nimport './SearchBar.css'\n\n\nclass SearchBar extends React.Component {\n  constructor(props){\n    super(props);\n    this.state={\n      term: '',\n      location: '',\n      sortBy: 'best_match'\n    }\n\n    this.handleSortByChange = this.handleSortByChange.bind(this);\n    this.handleTermChange = this.handleTermChange.bind(this);\n    this.handleLocationChange = this.handleLocationChange.bind(this);\n    this.handleSearch = this.handleSearch.bind(this);\n    this.handleEnterKey = this.handleEnterKey.bind(this);\n    this.toStringInputPosition = this.toStringInputPosition.bind(this);\n\n    this.sortByOptions = {\n      'Best Match': 'best_match' ,\n  'Highest Rated': 'rating',\n  'Most Reviewed': 'review_count'\n  };\n}\n  getSortByClass(sortByOption){\n    if(this.state.sortBy ===  sortByOption){\n      return 'active';\n    } \n      return '';\n  }\n    handleSortByChange(sortByOption){\n      this.setState({\n        sortBy: sortByOption\n      },\n      //use callback function to handleSortByChange event when clicking on the sortByOptions rendered object\n      () => {\n        this.props.searchYelp(this.state.term, this.state.location, this.state.sortBy);\n      });\n    }\n    handleTermChange(event){\n      this.setState({\n        term: event.target.value\n      })\n  }\n    handleLocationChange(event){\n      this.setState({\n        location: event.target.value\n      }) \n    }\n    toStringInputPosition(latitude, longitude){\n       return latitude.toString() , longitude.toString()\n    }\n  \n    handleSearch(event){\n      if(this.state.location === ''){\n        console.log('I think therefore i am')\n        let place = navigator.geolocation.getCurrentPosition((position)=>{\n          this.toStringInputPosition(position.coords.latitude, position.coords.longitude);\n        })\n        console.log('argh')\n        return this.setState({\n          location: place\n        })\n      }else {\n      this.props.searchYelp(this.state.term, this.state.location, this.state.sortBy);\n      event.preventDefault();\n    }\n  }\n     renderSortByOptions = () =>{\n        return Object.keys(this.sortByOptions).map(sortByOption =>{\n            let sortByOptionValue = this.sortByOptions[sortByOption];\n           return (<li onClick={this.handleSortByChange.bind(this, sortByOptionValue)} className={this.getSortByClass(sortByOptionValue)} key={sortByOptionValue}>{sortByOption}</li>);\n        });\n    \n  }\n    handleEnterKey(event) {\n      // Enter\n      if (event.keyCode === 13) {\n        this.props.searchYelp(this.state.term, this.state.location, this.state.sortBy);\n        event.preventDefault();\n      }\n    }\n    render(){\n        return (\n        <div className=\"SearchBar\">\n        <div className=\"SearchBar-sort-options\">\n          <ul>\n            {this.renderSortByOptions()}\n          </ul>\n        </div>\n        <div className=\"SearchBar-fields\">\n          <input name='Businessses' onChange={this.handleTermChange} onKeyDown={this.handleEnterKey} placeholder=\"Search Businesses\" />\n          <input name='Location' onChange={this.handleLocationChange} onKeyDown={this.handleEnterKey} placeholder=\"Where?\" />\n        </div>\n        <div className=\"SearchBar-submit\">\n          <a onClick={this.handleSearch}>Let's Go</a>\n        </div>\n      </div>\n      );\n    }\n}\nexport default SearchBar;"],"mappings":"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"},"metadata":{},"sourceType":"module"}